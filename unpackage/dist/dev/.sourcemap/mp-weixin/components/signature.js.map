{"version":3,"sources":[null,"webpack:///C:/Users/admin/Desktop/demo/uni-canvas/components/signature.vue?86cb","webpack:///C:/Users/admin/Desktop/demo/uni-canvas/components/signature.vue?7a55","webpack:///C:/Users/admin/Desktop/demo/uni-canvas/components/signature.vue?0328","uni-app:///components/signature.vue","webpack:///C:/Users/admin/Desktop/demo/uni-canvas/components/signature.vue?ccf0","webpack:///C:/Users/admin/Desktop/demo/uni-canvas/components/signature.vue?cf8f"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AAC8M;AAC9M,gBAAgB,sNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgzB,CAAgB,g0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6Bp0B;AACA,W;AACA;AACA,MADA,kBACA;AACA;AACA;AACA,aAFA;AAGA;AACA,gBAJA;AAKA;AACA,sBANA;;AAQA,GAVA;AAWA,uBAXA;AAYA;AACA;AACA,cAFA,wBAEA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA;AACA,SATA,mBASA;AACA;AACA;AACA,KAZA;AAaA;AACA,gBAdA,0BAcA;AACA,2DADA,CACA;AACA;AACA;AACA;AACA;AACA,KApBA;AAqBA;AACA,cAtBA,sBAsBA,CAtBA,EAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7BA;AA8BA;AACA,aA/BA,qBA+BA,CA/BA,EA+BA;AACA;AACA;AACA;AACA,kCAJA,CAIA;AACA;AACA;AACA,oBADA,CACA;AACA;AACA,KAxCA;AAyCA;AACA,YA1CA,sBA0CA;AACA;AACA,KA5CA;AA6CA;AACA,QA9CA,kBA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtDA;AAuDA;AACA,SAxDA,mBAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;;AAQA,KAlEA;AAmEA;AACA,UApEA,oBAoEA;AACA;AACA;AACA;AACA,4BADA;AAEA;AACA;AACA;AACA;AACA;AACA,SAPA,EADA;AASA,UATA;;AAWA,KAjFA,EAZA;;AA+FA,SA/FA,qBA+FA;AACA;AACA,GAjGA,E;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAA8+C,CAAgB,s8CAAG,EAAC,C;;;;;;;;;;ACAlgD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/signature.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./signature.vue?vue&type=template&id=7461bbe6&scoped=true&\"\nvar renderjs\nimport script from \"./signature.vue?vue&type=script&lang=js&\"\nexport * from \"./signature.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signature.vue?vue&type=style&index=0&id=7461bbe6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7461bbe6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/signature.vue\"\nexport default component.exports","export * from \"-!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=template&id=7461bbe6&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"signature-box\">\r\n\r\n\t\t<!-- 签名 -->\r\n\t\t<view class=\"signature\" v-show=\"showCanvas\">\r\n\t\t\t<canvas class=\"mycanvas\" canvas-id=\"mycanvas\" @touchstart=\"touchstart\" @touchmove=\"touchmove\"\r\n\t\t\t\t@touchend=\"touchend\"></canvas>\r\n\t\t\t<view class=\"footer\">\r\n\t\t\t\t<button @click=\"finish\" type=\"primary\" :plain=\"true\" :ripple=\"true\"\r\n\t\t\t\t\tripple-bg-color=\"#909399\">保存</button>\r\n\t\t\t\t<button @click=\"clear\" type=\"warning\" :plain=\"true\" :ripple=\"true\" ripple-bg-color=\"#909399\">清除</button>\r\n\t\t\t\t<button @click=\"close\" type=\"error\" :plain=\"true\" :ripple=\"true\" ripple-bg-color=\"#909399\">关闭</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<!-- 签完名后生成的图片 -->\r\n\t\t<view v-show=\"SignatureImg\" class=\"SignatureImg\">\r\n\t\t\t<image :src=\"SignatureImg\" mode=\"\"></image>\r\n\t\t</view>\r\n\r\n\t\t<!-- 清除签完名后生成的图片 -->\r\n\t\t<u-button v-show=\"SignatureImg\" @click=\"obliterate\" type=\"error\" :plain=\"true\" :ripple=\"true\"\r\n\t\t\tripple-bg-color=\"#909399\" size=\"medium\">清除签名</u-button>\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\nlet x = 20;\nlet y = 20;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//绘图图像\n\t\t\tctx: '', \n\t\t\t//路径点集合\n\t\t\tpoints: [], \n\t\t\t//签名图片\n\t\t\tSignatureImg: ''\n\t\t};\n\t},\n\tprops: ['showCanvas'],\n\tmethods: {\n\t\t//清除签名的图片\n\t\tobliterate() {\n\t\t\tif (this.SignatureImg) {\n\t\t\t\tthis.SignatureImg = '';\n\t\t\t}\n\t\t\tthis.close();\n\t\t},\n\t\t//关闭并清空画布\n\t\tclose() {\n\t\t\tthis.$emit('closeCanvas');\n\t\t\tthis.clear();\n\t\t},\n\t\t//创建并显示画布\n\t\tcreateCanvas() {\n\t\t\tthis.ctx = uni.createCanvasContext('mycanvas', this); //创建绘图对象\n\t\t\t//设置画笔样式\n\t\t\tthis.ctx.lineWidth = 4;\n\t\t\tthis.ctx.lineCap = 'round';\n\t\t\tthis.ctx.lineJoin = 'round';\n\t\t},\n\t\t//触摸开始，获取到起点\n\t\ttouchstart(e) {\n\t\t\tlet startX = e.changedTouches[0].x;\n\t\t\tlet startY = e.changedTouches[0].y;\n\t\t\tlet startPoint = { X: startX, Y: startY };\n\t\t\tthis.points.push(startPoint);\n\t\t\t//每次触摸开始，开启新的路径\n\t\t\tthis.ctx.beginPath();\n\t\t},\n\t\t//触摸移动，获取到路径点\n\t\ttouchmove(e) {\n\t\t\tlet moveX = e.changedTouches[0].x;\n\t\t\tlet moveY = e.changedTouches[0].y;\n\t\t\tlet movePoint = { X: moveX, Y: moveY };\n\t\t\tthis.points.push(movePoint); //存点\n\t\t\tlet len = this.points.length;\n\t\t\tif (len >= 2) {\n\t\t\t\tthis.draw(); //绘制路径\n\t\t\t}\n\t\t},\n\t\t// 触摸结束，将未绘制的点清空防止对后续路径产生干扰\n\t\ttouchend() {\n\t\t\tthis.points = [];\n\t\t},\n\t\t//绘制笔迹\n\t\tdraw() {\n\t\t\tlet point1 = this.points[0];\n\t\t\tlet point2 = this.points[1];\n\t\t\tthis.points.shift();\n\t\t\tthis.ctx.moveTo(point1.X, point1.Y);\n\t\t\tthis.ctx.lineTo(point2.X, point2.Y);\n\t\t\tthis.ctx.stroke();\n\t\t\tthis.ctx.draw(true);\n\t\t},\n\t\t//清空画布\n\t\tclear() {\n\t\t\tlet that = this;\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tlet canvasw = res.windowWidth;\n\t\t\t\t\tlet canvash = res.windowHeight;\n\t\t\t\t\tthat.ctx.clearRect(0, 0, canvasw, canvash);\n\t\t\t\t\tthat.ctx.draw(true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//完成绘画并保存到本地\n\t\tfinish() {\r\n\t\t\tlet that = this\n\t\t\tuni.canvasToTempFilePath(\n\t\t\t\t{\n\t\t\t\t\tcanvasId: 'mycanvas',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tthat.SignatureImg = res.tempFilePath;\n\t\t\t\t\t\tthat.$emit('closeCanvas');\n\t\t\t\t\t\tthat.close();\n\t\t\t\t\t}\n\t\t\t\t},that\n\t\t\t);\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.createCanvas();\n\t}\n};\n</script>\n\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.signature-box {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tbackground: #fff;\r\n\r\n\t\t//签名模块\r\n\t\t.signature {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 10px;\r\n\t\t\tleft: 2%;\r\n\t\t\tz-index: 999;\r\n\t\t\twidth: 96%;\r\n\r\n\t\t\t//canvas\r\n\t\t\t.mycanvas {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: calc(100vh - 200upx);\r\n\t\t\t\tbackground-color: #ececec;\r\n\t\t\t}\r\n\r\n\t\t\t//底部按钮\r\n\t\t\t.footer {\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\theight: 150upx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//生成的图片\r\n\t\t.SignatureImg {\r\n\t\t\timage {\r\n\t\t\t\twidth: 750rpx;\r\n\t\t\t\theight: 750rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=style&index=0&id=7461bbe6&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Develop\\\\HBuilderX.3.1.13.20210514.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=style&index=0&id=7461bbe6&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631772643822\n      var cssReload = require(\"D:/Develop/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}